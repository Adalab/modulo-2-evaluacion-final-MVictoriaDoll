const d=document.querySelector(".js__listcharacters"),f=document.querySelector(".js__favoritecharacters"),h=document.querySelector(".js_searchButton"),g=document.querySelector(".js__characters-input");let o=[],r=[];function u(e){e.currentTarget.classList.toggle("favorite");const a=e.currentTarget.dataset.id;console.log(a);const t=o.find(s=>s._id.toString()===a.toString()),c=r.find(s=>s._id.toString()===a.toString());c===void 0?(r.push(t),localStorage.setItem("favs",JSON.stringify(r)),n()):(r.splice(c,1),localStorage.setItem("favs",JSON.stringify(r)),n())}const m=e=>{e.stopPropagation();const a=e.currentTarget.dataset.id;let t=o.find(c=>c._id.toString()===a.toString());t!==-1&&(r.splice(t,1),localStorage.setItem("favs",JSON.stringify(r)),n()),console.log(a),console.log("me han clickeado",e.currentTarget.dataset.id)};function v(e){e.preventDefault();const a=g.value;fetch(`https://api.disneyapi.dev/character?pageSize=50&name=${encodeURIComponent(a)}`).then(t=>t.json()).then(t=>{o=t.data,l()})}const S=()=>{fetch("//api.disneyapi.dev/character?pageSize=50").then(e=>e.json()).then(e=>{o=e.data,console.log("characters array:",o),l()})},_=()=>{const e=JSON.parse(localStorage.getItem("favs"));e!==null&&(r=e,n())},i=(e,a=!1)=>{let t=e.imageUrl;t||(t="https://via.placeholder.com/210x295/ffffff/555555/?text=Disney");let c="";return c+=`<li class="js__charactercard card" data-id="${e._id}">`,c+=`<img src="${t}" class="card-img" alt="${e.name}"">`,c+=`<h3 class= "card__name">${e.name} </h3>`,a&&(c+=`<button class="remove_btn js__removeFavorite" data-id="${e._id}">X</button>`),c+="</li>",c},l=()=>{let e="";for(let t of o)e+=i(t);d.innerHTML=e;const a=document.querySelectorAll(".js__charactercard");for(const t of a)t.addEventListener("click",u)};function n(){let e="";for(const t of r)e+=i(t,!0);f.innerHTML=e;const a=document.querySelectorAll(".js__removeFavorite");for(const t of a)console.log("hice click",t),t.addEventListener("click",m)}_();S();h.addEventListener("click",v);
//# sourceMappingURL=main.js.map
